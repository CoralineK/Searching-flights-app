(this.webpackJsonpprojekt_koncowy=this.webpackJsonpprojekt_koncowy||[]).push([[0],{16:function(e,t,a){},21:function(e,t,a){e.exports=a.p+"static/media/globe3.93f09e7e.png"},23:function(e){e.exports=JSON.parse('{"key":"5bc8a8f63789bb58564fcacbff127438"}')},27:function(e,t,a){e.exports=a(46)},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),o=a.n(r),l=(a(32),a(33),a(34),a(6)),i=a(7),u=function(){return c.a.createElement("div",{className:"header"},c.a.createElement("h1",{className:"title"},c.a.createElement("p",null,"comfortable"),c.a.createElement("p",{className:"title__accent"},"traveling"),c.a.createElement("p",null,"fly wherever you want")),c.a.createElement("div",{className:"start"},c.a.createElement("p",null,"Let's start!"),c.a.createElement("a",{href:"#search"},c.a.createElement("div",{className:"arrow"},c.a.createElement(l.a,{style:{width:"100%",height:"100%"},icon:i.a})))))},s=a(4),m=a(3),p=a(19),d=a.n(p),f=(a(16),a(9),a(24)),h=a(21),E=a.n(h),b=function(e){for(var t=e.onLoaded,a=e.location,r=e.fromCity,o=e.toCity,l=Object(n.useState)(!0),i=Object(m.a)(l,2),u=i[0],s=i[1],p=Object(n.useState)(!0),d=Object(m.a)(p,2),h=d[0],b=d[1],v=a[0].map((function(e){return parseFloat(e)})),y=a[1].map((function(e){return parseFloat(e)})),g=Math.abs(v[0]-y[0]),O=Math.abs(v[1]-y[1]),j=0,w=g/(j=O>g?Math.round(O)/2:Math.round(g)/2),C=O/j,N=[],_=[],k=[],x=w;x<g;x+=w)v[0]>y[0]?N.push(v[0]-x):N.push(v[0]+x);for(var S=C;S<O;S+=C)v[1]>y[1]?_.push(v[1]-S):_.push(v[1]+S);N<_?N.map((function(e,t){return k.push({id:"".concat(t),color:"black",coordinates:[N[t],_[t]],value:1})})):_.map((function(e,t){return k.push({id:"".concat(t),color:"black",coordinates:[N[t],_[t]],value:1})}));var M=[r.split(","),o.split(",")],T={from:M[0].splice(0,2).toString(","),to:M[1].splice(0,2).toString(",")};Object(n.useEffect)((function(){u||h||t()}),[u,h,t]),Object(n.useEffect)((function(){}),[]);return c.a.createElement(f.a,{width:"600px",height:"600px",onGlobeTextureLoaded:function(){return s(!1)},onGlobeCloudsTextureLoaded:function(){return b(!1)},globeBackgroundTexture:"none",globeTexture:E.a,options:{focusDistanceRadiusScale:3,enableCameraZoom:!1,ambientLightIntensity:.6,ambientLightColor:"#dbcca0",markerTooltipRenderer:function(e){return v[0]===e.coordinates[0]&&v[1]===e.coordinates[1]?T.from:y[0]===e.coordinates[0]&&y[1]===e.coordinates[1]?T.to:void 0}},focus:y,onMouseOverMarker:function(e,t,a){},markers:[{id:"city1",color:"red",coordinates:v,value:20},{id:"city2",color:"red",coordinates:y,value:20}].concat(k)})},v=(a(43),function(){return c.a.createElement("div",{className:"loader-container"},c.a.createElement("div",{className:"loading-spinner"},c.a.createElement(l.a,{style:{color:"#116466",width:"100px",height:"100px"},icon:i.b})))}),y=function(e){var t=e.location,a=e.fromCity,r=e.toCity,o=Object(n.useState)(!0),l=Object(m.a)(o,2),i=l[0],u=l[1];return c.a.createElement("div",{className:"earth-container"},c.a.createElement(b,{onLoaded:function(){return u(!1)},location:t,fromCity:a,toCity:r}),i&&c.a.createElement(v,null))},g=a(12),O=a.n(g),j=a(22),w=(a(45),a(23)),C=function(e){var t=e.location,a=e.toCity,r=Object(n.useState)(),o=Object(m.a)(r,2),l=o[0],i=o[1],u=a.split(", ")[0];if(Object(n.useEffect)((function(){(function(){var e=Object(j.a)(O.a.mark((function e(){var a,n,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.openweathermap.org/data/2.5/weather?lat=".concat(Math.round(t[1][0]),"&lon=").concat(Math.round(t[1][1]),"&appid=").concat(w.key),e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,i(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),void 0!==l){var s={city:"",iconID:"",temprature:0,tempratureFeels:0,wind:0};return s.city="",s.iconID=l.weather[0].icon,s.main=l.weather[0].main,s.temprature=Math.round(l.main.temp-272.15),s.pressure=l.main.pressure,s.wind=l.wind.speed,c.a.createElement("div",{className:"weather"},c.a.createElement("h1",null,"Weather in ",u),c.a.createElement("div",{className:"weather__details"},c.a.createElement("p",null,s.main),c.a.createElement("div",{className:"weather__icon"},c.a.createElement("img",{alt:"icon",src:"http://openweathermap.org/img/wn/".concat(s.iconID,"@2x.png")})),c.a.createElement("p",null,"Temprature: ",s.temprature," \xb0C"),c.a.createElement("p",null,"Pressure: ",s.pressure," hPa"),c.a.createElement("p",null,"Wind: ",s.wind," m/s")))}return null},N=function(e){var t=e.fromCity,a=e.toCity,n=e.onBack,r=e.location;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"search-container"},c.a.createElement("div",{className:"search-container__inside"},c.a.createElement("div",{className:"chosen"},c.a.createElement("div",{className:"chosen__describ"},c.a.createElement("p",null,"FROM: "),c.a.createElement("div",null,t)),c.a.createElement("div",{className:"chosen__describ"},c.a.createElement("p",null,"TO: "),c.a.createElement("div",null,a))),c.a.createElement("div",null,c.a.createElement("input",{onClick:n,className:"confirm",type:"button",value:"Change cities"}))),c.a.createElement("div",{className:"globe-container"},c.a.createElement(y,{location:r,fromCity:t,toCity:a}),c.a.createElement(C,{location:r,toCity:a}))))},_=a(25),k=function(e){var t=e.error,a=e.autocomplete,n=e.select,r=Object(_.a)(e,["error","autocomplete","select"]);return c.a.createElement("div",{className:"choice__input-wrapper"},c.a.createElement("input",Object.assign({className:"choice__city-input ".concat(t?"input-error":""),type:"text"},r)),a&&c.a.createElement("div",{className:"choice__autocomplete"},a.slice(0,10).map((function(e,t){return c.a.createElement("div",{className:"location",key:t,onClick:function(){return n(e)}},e.city,", ",e.country,", ",e.name," (",e.iata,")")}))))},x=d.a.getAllData().airports,S=function(e){return e=(e=e.trim()).charAt(0).toUpperCase()+e.slice(1).toLowerCase(),x.filter((function(t){return e&&t.city.startsWith(e)}))},M=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(m.a)(o,2),i=l[0],u=l[1],p=Object(n.useState)(!1),d=Object(m.a)(p,2),f=d[0],h=d[1],E=Object(n.useState)({from:"",to:""}),b=Object(m.a)(E,2),v=b[0],y=b[1],g=Object(n.useState)({long:0,lat:0}),O=Object(m.a)(g,2),j=O[0],w=O[1],C=Object(n.useState)({long:0,lat:0}),_=Object(m.a)(C,2),x=_[0],M=_[1],T=function(e){e.preventDefault(),""!==v.from&&""!==v.to?r(!0):(""===v.from&&u(!0),""===v.to&&h(!0))};return a?c.a.createElement(N,{fromCity:v.from,toCity:v.to,onBack:function(){r(!1),u(!1),h(!1)},location:[[j.lat,j.long],[x.lat,x.long]]}):c.a.createElement("div",{id:"search",className:"choice",onSubmit:T},c.a.createElement("p",null,"From where do you start your advnture?"),c.a.createElement(k,{placeholder:"Type name of city",value:v.from,onChange:function(e){return y(Object(s.a)(Object(s.a)({},v),{},{from:e.target.value}))},error:i,autocomplete:S(v.from),select:function(e){y(Object(s.a)(Object(s.a)({},v),{},{from:"".concat(e.city,", ").concat(e.country,", ").concat(e.name," (").concat(e.iata,")")})),w({long:e.longitude,lat:e.latitude})}}),c.a.createElement("p",null,"Where do you want to go?"),c.a.createElement(k,{placeholder:"Type name of city",value:v.to,onChange:function(e){return y(Object(s.a)(Object(s.a)({},v),{},{to:e.target.value}))},error:f,autocomplete:S(v.to),select:function(e){y(Object(s.a)(Object(s.a)({},v),{},{to:"".concat(e.city,", ").concat(e.country,", ").concat(e.name," (").concat(e.iata,")")})),M({long:e.longitude,lat:e.latitude})}}),c.a.createElement("input",{onClick:T,className:"choice__confirm",type:"button",value:"Choose"}),i||f?c.a.createElement("div",{className:"error"},"Enter data!"):null)};var T=function(){return c.a.createElement("div",{className:"app"},c.a.createElement(u,null),c.a.createElement(M,null))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(T,null)),document.getElementById("root"))},9:function(e,t,a){}},[[27,1,2]]]);
//# sourceMappingURL=main.fd6e1949.chunk.js.map